---
title: UserConfigurableProfiler
sidebar_label: UserConfigurableProfiler
---
import CodeBlock from '@theme/CodeBlock';

<section class="sphinx-api-doc" id="userconfigurableprofiler">

<dl class="py class">
<dt class="sig sig-object py" id="great_expectations.profile.user_configurable_profiler.UserConfigurableProfiler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">great_expectations.profile.user_configurable_profiler.</span></span><span class="sig-name descname"><span class="pre">UserConfigurableProfiler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile_dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="/docs/0.18/reference/api/core/batch/Batch_class" title="great_expectations.core.batch.Batch"><span class="pre">great_expectations.core.batch.Batch</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">great_expectations.dataset.dataset.Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="/docs/0.18/reference/api/validator/validator/Validator_class" title="great_expectations.validator.validator.Validator"><span class="pre">great_expectations.validator.validator.Validator</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded_expectations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignored_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_or_compound_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semantic_types_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_expectations_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_set_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MANY'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#great_expectations.profile.user_configurable_profiler.UserConfigurableProfiler" title="Permalink to this definition">#</a>
</dt>
<dd>
<p>Build an Expectation Suite from a dataset.</p>
<p>The Expectations built are
strict - they can be used to determine whether two tables are the same.</p>
<p>Instantiate with or without a number of configuration arguments.
Once instantiated, if these arguments change, a new Profiler will be needed.</p>
<p>Build a suite without a config as follows:</p>
<p><CodeBlock language="python">{`profiler = UserConfigurableProfiler(dataset)
suite = profiler.build_suite()`}</CodeBlock></p>
<p>Use a Profiler to build a suite with a semantic types dict, as follows:</p>
<p><CodeBlock language="python">{`semantic_types_dict = {
            "numeric": ["c_acctbal"],
            "string": ["c_address","c_custkey"],
            "value_set": ["c_nationkey","c_mktsegment", 'c_custkey', 'c_name', 'c_address', 'c_phone']
        }
profiler = UserConfigurableProfiler(dataset, semantic_types_dict=semantic_types_dict)
suite = profiler.build_suite()`}</CodeBlock></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>profile_dataset</strong> – A Great Expectations Dataset or Validator object.</p></li>
<li><p><strong>excluded_expectations</strong> – A  list of Expectations to omit from the suite.</p></li>
<li><p><strong>ignored_columns</strong> – A list of columns for which you would like to NOT create Expectations.</p></li>
<li><p><strong>not_null_only</strong> – By default, each column is evaluated for nullity. If the
column values contain fewer than 50% null values, then the Profiler will add
<cite>expect_column_values_to_not_be_null</cite>; if greater than 50% it will add
<cite>expect_column_values_to_be_null</cite>. If <cite>not_null_only</cite> is set to <cite>True</cite>, the Profiler will add a
<cite>not_null</cite> Expectation irrespective of the percent nullity (and therefore will not add
<cite>expect_column_values_to_be_null</cite>).</p></li>
<li><p><strong>primary_or_compound_key</strong> – A list containing one or more columns which are a dataset's primary or
compound key. This will create an <cite>expect_column_values_to_be_unique</cite> or
<cite>expect_compound_columns_to_be_unique</cite> Expectation. This will occur even if one or more of the
<cite>primary_or_compound_key</cite> columns are specified in <cite>ignored_columns</cite>.</p></li>
<li><p><strong>semantic_types_dict</strong> – A dict where the keys are available semantic types
(see <cite>profiler.base.ProfilerSemanticTypes</cite>) and the values are lists of columns for which you
would like to create semantic-type-specific Expectations e.g.:</p></li>
</ul>
</dd>
</dl>
<p><CodeBlock language="python">{`                            "semantic_types": { "value_set": ["state","country"], "numeric":["age", "amount_due"]}`}</CodeBlock>
:param table_expectations_only: If <cite>True</cite>, this will only create the two table level
</p>
<blockquote>
<div>
<p>Expectations available to this Profiler (<cite>expect_table_columns_to_match_ordered_list</cite> and
<cite>expect_table_row_count_to_be_between</cite>). If <cite>primary_or_compound_key</cite> is specified, it will
create a uniqueness Expectation for that column as well.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd">
<p><strong>value_set_threshold</strong> – Must be one of: <cite>"none"</cite>, <cite>"one"</cite>, <cite>"two"</cite>, <cite>"very_few"</cite>, <cite>"few"</cite>, <cite>"many"</cite>, <cite>"very_many"</cite>, <cite>"unique"</cite>.
When the Profiler runs without a <cite>semantic_types_dict</cite>, each column is profiled for cardinality. This threshold determines the
greatest cardinality for which to add <cite>expect_column_values_to_be_in_set</cite>. For example, if
<cite>value_set_threshold</cite> is set to <cite>"unique"</cite>, it will add a <cite>value_set</cite> Expectation for every included
column. If set to <cite>"few"</cite>, it will add a <cite>value_set</cite> Expectation for columns whose cardinality is
one of <cite>"one"</cite>, <cite>"two"</cite>, <cite>"very_few"</cite>, or <cite>"few"</cite>. For the purposes of
comparing whether two tables are identical, it might make the most sense to set this to <cite>"unique"</cite>.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even">
<p><strong>ValueError</strong> – If an invalid <cite>primary_or_compound_key</cite> is provided.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="great_expectations.profile.user_configurable_profiler.UserConfigurableProfiler.build_suite">
<span class="sig-name descname"><span class="pre">build_suite</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="/docs/0.18/reference/api/core/ExpectationSuite_class" title="great_expectations.core.expectation_suite.ExpectationSuite"><span class="pre">great_expectations.core.expectation_suite.ExpectationSuite</span></a></span></span><a class="headerlink" href="#great_expectations.profile.user_configurable_profiler.UserConfigurableProfiler.build_suite" title="Permalink to this definition">#</a>
</dt>
<dd>
<p>Build an Expectation Suite based on the <cite>semantic_types_dict</cite> if one is provided.</p>
<p>Otherwise, profile the dataset and build the suite based on the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd">
<p>An Expectation Suite.</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>